<style>
    .stores_div p, .gs_text {
        color:#6d6e71;
        font-family:lora-regular;
        /*font-family: neuton \9;*/
        font-size:14pt;
        line-height:26pt;
    }
    .stores_div a{
        color:#3aa2d2 !important;
        font-family:lora-regular;
        /*font-family: neuton \9;*/
        font-size:14pt;
        line-height:26pt;
        text-decoration:underline;
    }
    
    a:link {
    text-decoration: underline;
    }
    
    .stores_div li {
  display: list-item;
  list-style-type: initial !important;
  text-align: -webkit-match-parent;
    margin-left: 30px;
}
    .stores_div{
        padding-top:30px;
        padding-left:0;
        color:#6d6e71;
        font-family:lora-regular;
        /*font-family: neuton \9;*/
        font-size:14pt;
        line-height:26pt;
    }
    .store_detail_title {
      font-family: railway-regular;
      /*font-family: proxima \9;*/
      font-size: 28pt;
      color: #6d6e71;
      text-transform: uppercase;
      margin-top: 0;
      margin-bottom: 53px;
    }
    
    .stores_div a{
        height:inherit;
        line-height:inherit;
        font-size:inherit;
    }
    .stores_div p{
        height:auto;
        border-top:none;
    }
    .socialize_div {
        margin-top:80px;
        padding-bottom:15px;
    }
    .socialize_text{
        margin-top:5px;
        
    }
    .socialize_social_icons{
        margin-top:0;
    }
    
    @media (max-width: 767px) {
        .stores_div p, .cat_div{
            padding-left:15px;
            padding-right:15px;
        }
        .cat_div{
            font-size:18pt;
            height:auto;
        }
        .list_icon{
            font-size:15px !important;
        }
    }
    
    
</style>

<div id="page_banner">
    <div class="banner_wrapper">
        <h1 class="page_headline"><span>Getting</span> Here</h1>
        <p class="page_subtitle">It's easy to get here; in the center of the shopping and business district</p>
        <div class="missing_out_div">
            <p onclick="javascript:toggle_news_form()">Fear of missing out?<i id="fear_caret" class="fa fa-caret-down"></i></p>
            <div class="hidden_newsletter_form">
                <form style="font-size:12px" id="banner_newsletter">
                    <span><input id="banner_email" name="cm-iixuu-iixuu" type="email" required  placeholder="Email address"/><button type="submit" id="banner_submit">Subscribe</button></span><br>
                            <input id="banner_agree_terms" type="checkbox" required value="I agree to receive newsletters from The Bay Centre"><label for="banner_aggree_terms" class="checkbox_lbl">I agree to receive newsletters from The Bay Centre</label>
                            
                             <input type="hidden" name="cm-f-jhtykd" id ="banner_source" />
                             <input type="hidden" name="cm-f-jhtykh" id="banner_terms"/>
                </form>
            </div>
        </div>
    </div>
</div>
<div class="share_this_icon_div">
    <span class='st_sharethis'></span>   
</div>

<div id="main_container">
    <div id="page_content"> 
        <div class="main_content_div">
            <p class="gs_text" style="margin-top:61px;margin-left:35px;margin-right:15px">
                The Bay Centre is centrally located in the centre of Downtown Victoriaâ€™s Shopping and Business district. Conveniently located at 1150 Douglas Street; the corner of Douglas and Fort Streets. Covering one full city block, The Bay Centre has four main entrances at Douglas Street, Fort Street, View Street and Government Street. We are easily accessible for pedestrian, cyclists, transit customers, and wheelchair/scooter guests.
            </p>
            <br>
            <br>
            <div id="canvas_1">
            <iframe id="getting_here_map" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2647.634026863271!2d-123.3664981!3d48.42517!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x548f749ab70dd595%3A0x775000abe4570019!2sThe+Bay+Centre!5e0!3m2!1sen!2sca!4v1432928127424" width="100%" height="400" frameborder="0" style="border:0"></iframe>
        </div>
        <br>
        <br>
        <p class="store_detail_title">GETTING TO THE BAY CENTRE</p>
        <div class="cat_stores_container" id="cat_stores_container">
            <script id="cat_stores_template" type="x-tmpl-mustache/text">
                <div class="cat_div" id="cat_{{slug}}" onclick="javascript:show_stores('{{slug}}')">
                    {{title}}
                    <i id="icon_{{slug}}" class="fa fa-plus list_icon"></i>
                </div>
                <div class="stores_div" id="cat_{{slug}}_stores">
                    {{{body}}}
                </div>
            </script>
        </div>
    </div>
</div>

<script>

    
    function show_stores(id){
       if ($("#cat_"+id+"_stores").is(":visible")){
           $("#cat_"+id+"_stores").slideUp();
           $("#icon_"+id).removeClass("fa-minus")
           $("#icon_"+id).addClass("fa-plus")
       } else {
           $("#cat_"+id+"_stores").slideDown();
           $("#icon_"+id).removeClass("fa-plus")
           $("#icon_"+id).addClass("fa-minus")
       }
    }
    
    $(document).ready(function() {
        function renderAll(){
            var page_banner = getRepoDetailsByName('Getting Here').images;
            var banner_url = "";
            $.each(page_banner, function(key, val){
                banner_url = val.photo_url_abs;
            });
            $("#page_banner").css({backgroundImage: "url(" + banner_url + ")"});
            
            
            var prefix = get_prefix();
            var page_array = ["baycentre-getting-here-by-sea","baycentre-getting-here-by-air","baycentre-getting-here-by-bicycle","baycentre-getting-here-by-transit","baycentre-getting-here-by-car"]
            page_array = page_array.reverse()
            full_page_array = []
            $.ajaxSetup({
                async: false
            });
            $.each( page_array , function( key, val ) {
                var pages_json = prefix+"/pages/" + val + ".json"
                $.getJSON(pages_json).then(function(data) {
                    //var pages_data = JSON.parse(data);
                    // console.log(data.body);
                    // $("#page_title").html(data.title)
                    // $('#mm_page_content').html(data.body);
                    add_to_page_array (data)
                });
            });
            $.ajaxSetup({
                async: true
            });
            
            renderPageData("#cat_stores_container","#cat_stores_template",full_page_array, "pages");
            $(".loading_overlay").hide();
            $("#page_content").show();
        }

        $('#getting_here_map').addClass('scrolloff'); // set the pointer events to none on doc ready
        $('#canvas_1').on('click', function () {
            $('#getting_here_map').removeClass('scrolloff'); // set the pointer events true on click
        });

        // you want to disable pointer events when the mouse leave the canvas area;
        $("#getting_here_map").mouseleave(function () {
            $('#getting_here_map').addClass('scrolloff'); // set the pointer events to none when mouse leaves the map area
        });
        
        function add_to_page_array (data){
            full_page_array.push(data)
        }
        
        function renderBanners(container, template, collection){
            var item_list = [];
            var item_rendered = [];
            var template_html = $(template).html();
            Mustache.parse(template_html);   // optional, speeds up future uses
            
            $.each( collection , function( key, val ) {
                var rendered = Mustache.render(template_html,val);
                item_rendered.push(rendered);
            });
            
            $(container).show();
            $(container).html(item_rendered.join(''));
            
        }
        
        function renderPageData(container, template, collection, type){
            var item_list = [];
            var item_rendered = [];
            var template_html = $(template).html();
            Mustache.parse(template_html);   // optional, speeds up future uses
            $.each( collection , function( key, val ) {
                
                var title = val.title.split(" - ");
                val.title = title[1]
                
                var rendered = Mustache.render(template_html,val);
                item_rendered.push(rendered);
    
            });
            
            $(container).show();
            $(container).html(item_rendered.join(''));
        };
        
        loadMallDataCached(renderAll); 
    })
</script>